---
/* src/components/Hero.astro */
import { Image } from "astro:assets";
import desktopImage from "../assets/images/desktop.png"; 
---

<section class="relative pt-32 pb-20 lg:pt-48 lg:pb-32 overflow-hidden bg-page-light dark:bg-page-dark transition-colors duration-500">
  
  {/* DENNE SVG-en ligg no heilt åleine i toppen av section-stabelen */}
  <svg class="absolute inset-0 h-full w-full pointer-events-none" xmlns="http://www.w3.org/2000/svg">
  <defs>
    {/* Rutenett-definisjoner */}
    <pattern id="final-grid" width="50" height="50" patternUnits="userSpaceOnUse">
      <path d="M 50 0 L 0 0 0 50" fill="none" stroke="#64748b" stroke-width="1" stroke-opacity="0.2" />
    </pattern>
    <pattern id="final-grid-dark" width="50" height="50" patternUnits="userSpaceOnUse">
      <path d="M 50 0 L 0 0 0 50" fill="none" stroke="#3b82f6" stroke-width="1" stroke-opacity="0.2" />
    </pattern>

    {/* GRADIENTEN som styrer maskeringen */}
    <linearGradient id="fade-grad" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0%" stop-color="white" stop-opacity="1" />
      <stop offset="60%" stop-color="white" stop-opacity="1" /> { /* Full synlighet ned til 60% */ }
      <stop offset="100%" stop-color="white" stop-opacity="0" /> { /* Helt borte ved 100% */ }
    </linearGradient>

    {/* MASKEN som kobler rutenettet til gradienten */}
    <mask id="grid-mask">
      <rect width="100%" height="100%" fill="url(#fade-grad)" />
    </mask>
  </defs>

  {/* Vi legger på mask="url(#grid-mask)" på begge rektanglene */}
  <rect width="100%" height="100%" fill="url(#final-grid)" mask="url(#grid-mask)" class="dark:hidden" />
  <rect width="100%" height="100%" fill="url(#final-grid-dark)" mask="url(#grid-mask)" class="hidden dark:block" />
</svg>

  <div class="absolute inset-0 -z-10 overflow-hidden pointer-events-none">
    {/* Gradient-lyset ligg NO bak rutenettet */}
    <div class="absolute left-1/2 top-0 h-[1000px] w-[1000px] -translate-x-1/2 -translate-y-[30%] 
      bg-[radial-gradient(closest-side,var(--color-blue-100),transparent)] 
      dark:bg-[radial-gradient(closest-side,rgba(0,125,210,0.15),transparent)] 
      opacity-60 dark:opacity-20">
    </div>
  </div>

  <div class="container mx-auto px-6 relative z-10">
    <div class="grid lg:grid-cols-12 gap-12 items-center">
      
      {/* 2. TEKST (Venstre) */}
      <div class="lg:col-span-7 flex flex-col items-start">
        <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white dark:bg-blue-500/10 border border-slate-200 dark:border-blue-500/20 text-primary dark:text-blue-300 text-sm font-medium mb-6 animate-fade-in">
          <span class="relative flex h-2 w-2">
            <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-primary opacity-75"></span>
            <span class="relative inline-flex rounded-full h-2 w-2 bg-primary"></span>
          </span>
          Tilgjengelig for nye prosjekter i 2026
        </div>

        <h1 class="text-5xl md:text-7xl font-bold text-slate-900 dark:text-white tracking-tight mb-8">
          Vi bygger fremtidens <br />
          <span class="italic text-transparent bg-clip-text bg-linear-to-r from-primary to-blue-500 dark:from-primary-light dark:to-blue-400">
            digitale løsninger
          </span>
        </h1>

        <p class="text-xl text-slate-600 dark:text-slate-400 leading-relaxed max-w-2xl mb-10">
          Comino Web AS kombinerer lynrask ytelse med skalerbar arkitektur. 
          Vi koder for vekst, med presisjon i kvar linje.
        </p>

        <div class="flex flex-col sm:flex-row gap-4 w-full sm:w-auto">
          <a href="#" class="open-contact-drawer inline-flex items-center justify-center px-8 py-4 rounded-xl bg-primary text-white font-bold hover:bg-primary-hover transition-all hover:shadow-xl hover:-translate-y-1">
            Start et prosjekt
          </a>
          <a href="#tjenester" class="inline-flex items-center justify-center px-8 py-4 rounded-xl bg-white dark:bg-slate-800/50 text-slate-900 dark:text-white border border-slate-200 dark:border-slate-700/50 font-bold hover:bg-slate-50 dark:hover:bg-slate-800 transition-all">
            Se hva vi gjør
          </a>
        </div>
      </div>

      {/* 3. BILDE (Høyre) */}
      <div class="lg:col-span-5 relative animate-fade-in-right">
        <div class="absolute -inset-4 bg-primary/10 dark:bg-primary/20 rounded-[3rem] blur-3xl opacity-50"></div>
        <div class="relative aspect-square overflow-hidden rounded-[2.5rem] border border-slate-200 dark:border-slate-800 shadow-2xl">
          <Image 
            src={desktopImage} 
            alt="Moderne arbeidsstasjon"
            class="w-full h-full object-cover"
            loading="eager" 
          />
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  .animate-fade-in {
    animation: fadeIn 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  }
  .animate-fade-in-right {
    animation: fadeInRight 1s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  }
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }
  @keyframes fadeInRight {
    from { opacity: 0; transform: translateX(40px); }
    to { opacity: 1; transform: translateX(0); }
  }
</style>